{% load verbatim %}
<!DOCTYPE HTML>
<html ng-app="Redwood">
<head>
  <title>Start</title>
  <script type="text/javascript" src="{{ STATIC_URL }}framework/js/lib/jquery/jquery.min.js"></script>
  <script type="text/javascript" src="{{ STATIC_URL }}framework/js/lib/flot/jquery.flot.js"></script>
  <script type="text/javascript" src="{{ STATIC_URL }}framework/js/lib/bootstrap/bootstrap-3.1.1.min.js"></script>
  <script type="text/javascript" src="{{ STATIC_URL }}framework/js/lib/bootstrap/bootstrap-slider.js"></script>
  <script type="text/javascript" src="{{ STATIC_URL }}framework/js/lib/angular/angular-1.2.16.js"></script>
  <script type="text/javascript" src="{{ STATIC_URL }}framework/js/redwoodCore.js"></script>
  <script type="text/javascript" src="{{ STATIC_URL }}framework/js/redwoodHelpers.js"></script>
	<script type="text/javascript" src="{{ STATIC_URL }}framework/js/redwoodSubject.js"></script>
  <script type="text/javascript" src="{{ STATIC_URL }}framework/js/synchronizedStopWatch.js"></script>

  <link type="text/css" rel="stylesheet" href="{{ STATIC_URL }}framework/css/bootstrap-3.1.1.min.css"></link>
  <link type="text/css" rel="stylesheet" href="{{ STATIC_URL }}framework/css/bootstrap-slider.css"></link>

	<script type="text/javascript">
		{{ js }}
	</script>
	<style type="text/css">
		{{ css }}
	</style>
</head>
{% verbatim %}
<!-- <body style="padding-top:80px;" ng-controller="SubjectCtrl" ng-include="'/static/experiments/continuousMatrix/continuousMatrixStart.html'"></body> -->
<body style="padding-top:80px;" ng-controller="SubjectCtrl">
  <!-- start experiment -->
  <div class="container" ng-show="showpage.showStartExperiment">
    <div class="row">
      <div class="col-mid-4 col-mid-offset-4">
        <h3 class="text-center">To begin the experiment click Continue</h3>
      </div>
    </div>
    <div class="row">
      <div class="text-center">
        <button type="button" class="btn btn-info"
          ng-click="showpage.showStartExperiment = false; showpage.initalquestions = 0;">
          Continue
        </button>
      </div>
    </div>
  </div>
  <!-- start part 1 -->
  <div class="container" ng-show="showpage.initalquestions === 0;">
    <div class="row">
      <div class="col-mid-4 col-mid-offset-4">
        <h3 class="text-center">Part 1</h3>
        <p class="text-center">To start click continue</p>
      </div>
      <div class="text-center">
        <button type="button" class="btn btn-info" ng-click="nextQuestion(initalResponses.question1,0)">Continue</button>
      </div>
    </div>
  </div>
  <!-- inital questions -->

  <!-- question 1 -->
  <div class="container" ng-show="showpage.initalquestions === 1">
    <div class="row">
      <div class="text-center">
        <h3 class="text-center">Right now, how would you describe yourself?</h3>
        <p class="text-center">(Please enter the number that best applies to you at this moment)</p>
        <div class="row text-center" style="border-style:solid;border-width:2px;">
          <div class="col-md-1">
            1:<br>Extremeley<br><strong>unhappy</strong>
          </div>
          <div class="col-md-1">
            2:<br>Very unhappy
          </div>
          <div class="col-md-1">
            3:<br>Unhappy
          </div>
          <div class="col-md-1">
            4:<br>Somewhat happy
          </div>
          <div class="col-md-1">
            5:<br>Neutral
          </div>
          <div class="col-md-1">
            6:<br>Somewhat happy
          </div>
          <div class="col-md-1">
            7:<br>Happy
          </div>
          <div class="col-md-1">
            8:<br>Very happy
          </div>
          <div class="col-md-1">
            9:<br>Extremeley<br><strong>happy</strong>
          </div>
        </div>
        <br>
        <div class="row text-center">
          <input type="text"
            ng-model="initalResponses.question1.answer1" />
        </div>
      </div>
      <div class="text-center">
        <button type="button" class="btn btn-info" ng-click="nextQuestion(initalResponses.question1,1)">
          Continue
        </button>
      </div>
    </div>
  </div>
  <!-- question 2 -->
  <div class="container" ng-show="showpage.initalquestions === 2">
    <div class="row">
      <div class="col-mid-4 col-mid-offset-4">
        <h3 class="text-center">For each question, give the number that best describes you:</h3>
        <p class="text-center">(Follow the scale below)</p>
        <div class="row" style="border-style:solid;border-width:2px;">
          <div class="col-md-1">
            1:<br>Extremeley<br><strong>unhappy</strong>
          </div>
          <div class="col-md-1">
            2:<br>Very unhappy
          </div>
          <div class="col-md-1">
            3:<br>Unhappy
          </div>
          <div class="col-md-1">
            4:<br>Somewhat happy
          </div>
          <div class="col-md-1">
            5:<br>Neutral
          </div>
          <div class="col-md-1">
            6:<br>Somewhat happy
          </div>
          <div class="col-md-1">
            7:<br>Happy
          </div>
          <div class="col-md-1">
            8:<br>Very happy
          </div>
          <div class="col-md-1">
            9:<br>Extremeley<br><strong>happy</strong>
          </div>
        </div>
        <div class="row text-center">
          <p>Over the past week, what is the lowest level you experienced?</p>
          <input type="text"
            ng-model="initalResponses.question2.answer1" />
        </div>
        <div class="row text-center">
          <p>Over the past week, what is the highest level you experienced?</p>
          <input type="text" ng-model="initalResponses.question2.answer2" />
        </div>
        <div class="row text-center">
          <p>Overall (i.e. in general), how would you descibe youself?</p>
          <input type="text" ng-model="initalResponses.question2.answer3" />
        </div>
      </div>
      <div class="text-center">
        <button type="button" class="btn btn-info" ng-click="nextQuestion(initalResponses.question2,3)">Continue</button>
      </div>
    </div>
  </div>
  <!-- question 3 -->
  <div class="container" ng-show="showpage.initalquestions === 3">
    <div class="row">
      <div class="col-mid-4 col-mid-offset-4">
        <h3 class="text-center">Please, give the number that best describes the emotions you experienced at this moment:</h3>
        <p class="text-center">(Follow the scale below)</p>
      </div>
    </div>
    <div class="row" style="border-style:solid;border-width:2px;">
      <div class="col-md-1 col-md-offset-2">
        1<br>Emotion is not present at all
      </div>
      <div class="col-md-1">
        2
      </div>
      <div class="col-md-1">
        3
      </div>
      <div class="col-md-1">
        4
      </div>
      <div class="col-md-1">
        5
      </div>
      <div class="col-md-1">
        6
      </div>
      <div class="col-md-1">
        7<br>Emotions feels very intense
      </div>
    </div>
    <br>
    <div class="row">
      <div class="col-md-4 col-md-offset-2">
        Irritation
        <input type="text" ng-model="initalResponses.question3.answer1" />
      </div>
      <div class="col-md-4">
        Sadness
        <input type="text" ng-model="initalResponses.question3.answer2" />
      </div>
    </div>
    <div class="row">
      <div class="col-md-4 col-md-offset-2">
        Anger
        <input type="text" ng-model="initalResponses.question3.answer3" />
      </div>
      <div class="col-md-4">
        Happiness
        <input type="text" ng-model="initalResponses.question3.answer4" />
      </div>
    </div>
    <div class="row">
      <div class="col-md-4 col-md-offset-2">
        Contempt
        <input type="text" ng-model="initalResponses.question3.answer5" />
      </div>
      <div class="col-md-4">
        Fear
        <input type="text" ng-model="initalResponses.question3.answer6" />
      </div>
    </div>
    <div class="row">
      <div class="col-md-4 col-md-offset-2">
        Surprise
        <input type="text" ng-model="initalResponses.question3.answer7" />
      </div>
      <div class="col-md-4">
        Joy
        <input type="text" ng-model="initalResponses.question3.answer8" />
      </div>
    </div>
    <div class="row">
      <div class="col-md-4 col-md-offset-2">
        Envy
        <input type="text" ng-model="initalResponses.question3.answer9" />
      </div>
      <div class="col-md-4">
        Shame
        <input type="text" ng-model="initalResponses.question3.answer10" />
      </div>
    </div>
    <div class="row">
      <div class="col-md-4 col-md-offset-4">
        Jealousy
        <input type="text" ng-model="initalResponses.question3.answer11" />
      </div>
    </div>
    <div class="row">
      <div class="text-center">
        <button type="button" class="btn btn-info" ng-click="nextQuestion(initalResponses.question3,11)">Continue</button>
      </div>
    </div>
  </div>
  <!-- question 4 -->
  <div class="container" ng-show="showpage.initalquestions === 4">
    <div class="row">
      <div class="col-mid-4 col-mid-offset-4">
        <h3 class="text-center">Please, give the number that best describes your agreement with the following statements:</h3>
        <p class="text-center">(Follow the scale below)</p>
      </div>
    </div>
    <div class="row" style="border-style:solid;border-width:2px;">
      <div class="col-md-1 col-md-offset-3">
        1:<br>Strongly<br><strong>disagree</strong>
      </div>
      <div class="col-md-1">
        2:<br>Moderately disagree
      </div>
      <div class="col-md-1">
        3:<br>Slightly disagree
      </div>
      <div class="col-md-1">
        4:<br>Slightly agree
      </div>
      <div class="col-md-1">
        5:<br>Moderately agree
      </div>
      <div class="col-md-1">
        6:<br>Strongly<br><strong>agree</strong>
      </div>
    </div>
    <br>
    <div class="row text-center">
      For me, life has been a continuous process of learning, changing and growth.
      <input type="text" ng-model="initalResponses.question4.answer1" />
    </div>
    <div class="row text-center">
      Some people wader aimlessly through life, but I am not one of them.
      <input type="text" ng-model="initalResponses.question4.answer2" />
    </div>
    <div class="row text-center">
      I judge myself by what I think is important, not by the values of what others think is important.
      <input type="text" ng-model="initalResponses.question4.answer3" />
    </div>
    <div class="row text-center">
      I am quite good at managing the many responsibilities of my daily life,
      <input type="text" ng-model="initalResponses.question4.answer4" />
    </div>
    <div class="row text-center">
      I have not experienced many warm and trusting relationships with others.
      <input type="text" ng-model="initalResponses.question4.answer5" />
    </div>
    <div class="row text-center">
      In many ways, I feel disappointed about my achievements in life.
      <input type="text" ng-model="initalResponses.question4.answer6" />
    </div>
    <div class="row">
      <div class="text-center">
        <button type="button" class="btn btn-info" ng-click="nextQuestion(initalResponses.question4,6)">Continue</button>
      </div>
    </div>
  </div>
  <!-- question 5 -->
  <div class="container" ng-show="showpage.initalquestions === 5">
    <div class="row">
      <div class="col-mid-4 col-mid-offset-4">
        <h3 class="text-center">Below you are given pairs of opposite feelings. Use the following scale to<br>
          inducate your current mood relative to these feelings.
        </h3>
        <p class="text-center">(1: you are experiencing the feelings on the left side very strongly.<br>
          9:you are experiencing the feelings on the right side very strongly.)
        </p>
      </div>
    </div>
    <div class="row" style="border-style:solid;border-width:2px;">
      <div class="col-md-1 col-md-offset-2">
        1
      </div>
      <div class="col-md-1">
        2
      </div>
      <div class="col-md-1">
        3
      </div>
      <div class="col-md-1">
        4
      </div>
      <div class="col-md-1">
        5<br>Neutral
      </div>
      <div class="col-md-1">
        6
      </div>
      <div class="col-md-1">
        7
      </div>
      <div class="col-md-1">
        8
      </div>
      <div class="col-md-1">
        9
      </div>
    </div>
    <br>
    <div class="row">
      <div class="col-md-1 col-md-offset-4">
        Bad mood
      </div>
      <div class="col-md-2">
        <input type="text" ng-model="initalResponses.question5.answer1" />
      </div>
      <div class="col-md-2">
        Good mood
      </div>
    </div>
    <div class="row">
      <div class="col-md-1 col-md-offset-4">
        Sad
      </div>
      <div class="col-md-2">
        <input type="text" ng-model="initalResponses.question5.answer2" />
      </div>
      <div class="col-md-1">
        Happy
      </div>
    </div>
    <div class="row">
      <div class="col-md-1 col-md-offset-4">
        Depressed
      </div>
      <div class="col-md-2">
        <input type="text" ng-model="initalResponses.question5.answer3" />
      </div>
      <div class="col-md-1">
        Elated
      </div>
    </div>
    <div class="row">
      <div class="col-md-1 col-md-offset-4">
        Gloomy
      </div>
      <div class="col-md-2">
        <input type="text" ng-model="initalResponses.question5.answer4" />
      </div>
      <div class="col-md-1">
        Cheerful
      </div>
    </div>
    <div class="row">
      <div class="col-md-1 col-md-offset-4">
        Displeased
      </div>
      <div class="col-md-2">
        <input type="text" ng-model="initalResponses.question5.answer5" />
      </div>
      <div class="col-md-1">
        Pleased
      </div>
    </div>
    <div class="row">
      <div class="col-md-1 col-md-offset-4">
        Sorrowful
      </div>
      <div class="col-md-2">
        <input type="text" ng-model="initalResponses.question5.answer6" />
      </div>
      <div class="col-md-1">
        Joyful
      </div>
    </div>
    <div class="row">
      <div class="text-center">
        <button type="button" class="btn btn-info" ng-click="nextQuestion(initalResponses.question5,6)">Continue</button>
      </div>
    </div>
  </div>
  <!-- question 6 -->
  <div class="container" ng-show="showpage.initalquestions === 6">
    <div class="row">
      <div class="col-mid-4 col-mid-offset-4">
        <h3 class="text-center">Below you are given pairs of opposite feelings. Use the following scale to<br>
          inducate your current mood relative to these feelings
        </h3>
        <p class="text-center">(1: you are experiencing the feelings on the left side very strongly.<br>
          9:you are experiencing the feelings on the right side very strongly.)
        </p>
      </div>
    </div>
    <div class="row" style="border-style:solid;border-width:2px;">
      <div class="col-md-1 col-md-offset-2">
        1
      </div>
      <div class="col-md-1">
        2
      </div>
      <div class="col-md-1">
        3
      </div>
      <div class="col-md-1">
        4
      </div>
      <div class="col-md-1">
        5<br>Neutral
      </div>
      <div class="col-md-1">
        6
      </div>
      <div class="col-md-1">
        7
      </div>
      <div class="col-md-1">
        8
      </div>
      <div class="col-md-1">
        9
      </div>
    </div>
    <br>
    <div class="row">
      <div class="col-md-1 col-md-offset-4">
        Nervous
      </div>
      <div class="col-md-2">
        <input type="text" ng-model="initalResponses.question6.answer1" />
      </div>
      <div class="col-md-1">
        Calm
      </div>
    </div>
    <div class="row">
      <div class="col-md-1 col-md-offset-4">
        Tense
      </div>
      <div class="col-md-2">
        <input type="text" ng-model="initalResponses.question6.answer2" />
      </div>
      <div class="col-md-1">
        Relaxed
      </div>
    </div>
    <div class="row">
      <div class="col-md-1 col-md-offset-4">
        Unconfortable
      </div>
      <div class="col-md-2">
        <input type="text" ng-model="initalResponses.question6.answer3" />
      </div>
      <div class="col-md-1">
        Confortable
      </div>
    </div>
    <div class="row">
      <div class="col-md-1 col-md-offset-4">
        Apathetic
      </div>
      <div class="col-md-2">
        <input type="text" ng-model="initalResponses.question6.answer4" />
      </div>
      <div class="col-md-1">
        Caring
      </div>
    </div>
    <div class="row">
      <div class="col-md-1 col-md-offset-4">
        Lethargic
      </div>
      <div class="col-md-2">
        <input type="text" ng-model="initalResponses.question6.answer5" />
      </div>
      <div class="col-md-1">
        Energetic
      </div>
    </div>
    <div class="row">
      <div class="col-md-1 col-md-offset-4">
        Unconfident
      </div>
      <div class="col-md-2">
        <input type="text" ng-model="initalResponses.question6.answer6" />
      </div>
      <div class="col-md-1">
        Confident
      </div>
    </div>
    <div class="row">
      <div class="col-md-1 col-md-offset-4">
        Unresponsive
      </div>
      <div class="col-md-2">
        <input type="text" ng-model="initalResponses.question6.answer7" />
      </div>
      <div class="col-md-1">
        Emotional
      </div>
    </div>
    <div class="row">
      <div class="col-md-1 col-md-offset-4">
        Passive
      </div>
      <div class="col-md-2">
        <input type="text" ng-model="initalResponses.question6.answer8" />
      </div>
      <div class="col-md-1">
        Active
      </div>
    </div>
    <div class="row">
      <div class="text-center">
        <button type="button" class="btn btn-info" ng-click="finishQuestions(initalResponses.question6,8)">Continue</button>
      </div>
    </div>
  </div>
  <!-- start part 2 -->
  <!-- have a barrier here -->
  <div class="container" ng-show="showpage.part2">
    <div class="row">
      <div class="text-center">
        <h3>Part 2</h3>
        <p ng-show="showpage.part2ready">To start click continue</p>
      </div>
      <div class="text-center" ng-show="showpage.part2ready">
        <button type="button" class="btn btn-info" ng-click="showpage.part2 = false; showpage.exampleTasks = true">
          Continue
        </button>
      </div>
    </div>
  </div>
  <!-- instructions -->
  <div class="container" ng-show="showpage.exampleTasks">
    <div class="row">
      <div class="text-center">
        <h3>You will be asked to complete a sequence of tasks.<br>
          The first two tasks are practice screens.
        </h3>
      </div>
      <div class="text-center">
        <button type="button" class="btn btn-info" ng-click="practiceGame1();">
          Continue
        </button>
      </div>
    </div>
  </div>

  <!-- practice screens -->
  <!-- practice one -->
  <div class="container" ng-show="showpage.practice1">
    <div class="row">
      <h3 class="text-center">PRACTICE SCREEN {{practiceRound}}</h3>
    </div>
    <div class="row">
      <h3 class="text-center">Assigned time can be exceeded and points earned here will not count.<br>
        The current task can earn you a maximim of 50 points.
      </h3>
    </div>
    <div class="row">
      <p class="col-md-10 col-md-offset-1">Task: Use the <em>left-click</em> of the mouse to <em>drag and drop</em>
         the maroon square (in the left graph) and search for the location that gives you the highest
         score in Points. The Points Indicator is on right (100 points = 1.00 dollar).
         The assigned time is 35 seconds.
      </p>
    </div>
    <div class="row">
      <div class="col-md-7">
      <!-- Game -->
        <div id="practice1" style="width:600px;height:300px"></div>
      </div>
      <div class="col-md-3">
        <!-- points earned -->
        <div class="row">
          <div class="col-md-9" style="border-style:solid; border-width: 1px">
            <h3 id="practice1timer" class="text-center">Time Remaining : {{time}}</h3>
          </div>
          <div class="col-md-9" style="border-style:solid; border-width: 1px">
            <h3 id="practice1points" class="text-center">Points earned : 0.0</h3>
          </div>
        </div>
        <!-- locator -->
        <div class="row">
          <div class="col-md-3">
            <canvas id="practice1locator" style="width:200px;height:300px;
              border-style:solid; border-width: 1px"></canvas>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <p class="text-center">
        To pick up the square use the <em>left-click</em> of the mouse. To drop the square
        in a new location just release the <em>left-click</em> of the mouse.
      </p>
    </div>
    <div class="row" ng-show="practiceRound === 1">
      <div class="text-center">
        <button type="button" class="btn btn-success" ng-click="nextPractice()">Go To Next Task</button>
      </div>
    </div>
    <div class="row" ng-show="practiceRound === 2">
      <div class="text-center">
        <button type="button" class="btn btn-success" ng-click="finalPractice()">
          Start Real Task
        </button>
      </div>
    </div>
  </div>

  <!-- real tasks -->
  <div class="container" ng-show="showpage.realTasks">
    <div class="row">
      <div class="text-center">
        <h3>Practice screens are over.<br>
          The following tasks do count towards your income.
        </h3>
        <div class="text-center">
          <button ng-show="showpage.realTasksReady" type="button" class="btn btn-info" ng-click="showgame()">
            Continue
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- income earning -->
  <div class="container" ng-show="showpage.gametime">
    <div class="row">
      <h3 class="text-center" id="income">So far, your income is $0.00.</h3>
    </div>
    <div class="row">
      <h3 class="text-center" id="currentTask">The current task can earn you a
        maximum of {{maxpoints}} points.
      </h3>
    </div>
    <div class="row">
      <p class="col-md-10 col-md-offset-1">Task: Use the <em>left-click</em> of the mouse to <em>drag and drop</em>
         the maroon square (in the left graph) and search for the location that gives you the highest
         score in Points. The Points Indicator is on right (100 points = 1.00 dollar).
         The assigned time is 35 seconds.
      </p>
    </div>
    <div class="row">
      <div class="col-md-7">
      <!-- Game -->
        <div id="placeholder" style="width:600px;height:300px"></div>
      </div>
      <div class="col-md-3">
        <!-- points earned -->
        <div class="row">
          <div class="col-md-9" style="border-style:solid; border-width: 1px">
            <h3 id="timer" class="text-center">Time Remaining : {{time}}</h3>
          </div>
          <div class="col-md-9" style="border-style:solid; border-width: 1px">
            <h3 id="points" class="text-center">Points earned : 0.0</h3>
          </div>
        </div>
        <!-- locator -->
        <div class="row">
          <div class="col-md-3">
            <canvas id="locator" style="width:200px;height:300px;
              border-style:solid; border-width: 1px"></canvas>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <p id="earned" class="text-center">Money earned for this task (cents) : 0.0</p>
    </div>
    <div class="row">
      <div class="text-center">
        <button id="nexttask" type="button" class="btn btn-success" ng-click="nexttask()">Go To Next Task</button>
      </div>
    </div>
  </div>

  <!-- money received-->
  <div class="container" ng-show="showpage.moneyReceived">
    <div class="row">
      <h3>
        For this part of the experiment you have received ${{floatToMoney(endownment)}}
        of endownment and earned ${{floatToMoney(income)}} of task income.
      </h3>
    </div>
    <div class="row">
      <div class="col-md-2 col-md-offset-5">
        <button type="button" class="btn btn-success" ng-click="moneyShown()">
          Continue
        </button>
      </div>
    </div>
  </div>

  <!-- start part 3 -->
  <div class="container" ng-show="showpage.part3">
    <div class="row">
      <h3 class="text-center">Part 3</h3>
      <p class="text-center" ng-show="showpage.part3ready">To start click continue</p>
      <div class="col-mid-4 col-mid-offset-4">
      </div>
    </div>
    <div class="row">
      <div class="text-center">
        <button type="button" class="btn btn-success" ng-show="showpage.part3ready"
          ng-click="showpage.roles = true; showpage.part3 = false;">
          Continue
        </button>
      </div>
    </div>
  </div>
  <!-- core interaction -->

  <!-- assign roles -->
  <div class="container" ng-show="showpage.roles">
    <div class="row">
      <h2 class="text-center">Your role is {{role}}</h2>
      <h2 class="text-center">In Part 2, you have recieved ${{floatToMoney(endownment)}} as
        endownment and earned ${{floatToMoney(income)}} of income.</h2>
      <h2 class="text-center">Your counterpart, {{partner.role}}, has received
        ${{floatToMoney(partner.endownment)}} as endownment and earned
        ${{floatToMoney(partner.income)}} of income.
      </h2>
    </div>
    <div class="row">
      <div class="text-center">
        <button type="button" class="btn btn-success" ng-click="createSliders();">
          Continue
        </button>
      </div>
    </div>
  </div>
  <!-- slider -->
  <!-- barrier after the respective sliders -->

  <!-- T slider -->
  <div class="container" ng-show="showpage.slider && role === 'T'">
    <div class="row">
      <h3 class="text-center">
        Being T, you are given the authority to transfer money from P's account to your own account.
        The maximum amount of money you can collect is what P has earned as income in Part 2
        (${{floatToMoney(partner.income)}}).
      </h3>
    </div>
    <div class="row">
      <h3 class="text-center">What percentage of P's income do you want to transfer to your account?</h3>
      <p class="text-center">(Use the slider below to set this percentage)</p>
    </div>
    <div class="row text-center">
      <input id="tSlider" style="width:600px;" data-slider-id="tSlider" type="text" data-slider-min="0" data-slider-max="100" data-slider-step="1"
        data-slider-value="0" />
        <p id="tPercentTransfered">Percentage transfered: {{percent}}</p>
    </div>
    <div class="row">
      <h2 id="tMoneyTransferred" class="text-center">Money (in $) transferred to your account : {{transfered}}</h2>
      <h2 id="tFinalEarnings" class="text-center">Money final earnings (in $) for the experiment will be: {{totalincome}}</h2>
    </div>
    <div class="row">
      <div class="text-center">
        <button type="button" class="btn btn-success" ng-click="sendDecision();">
          Send Your Decision
        </button>
      </div>
    </div>
  </div>
  <!-- P slider -->
  <div class="container" ng-show="showpage.slider && role === 'P'">
    <div class="row">
      <h3 class="text-center">
        At this moment, your counterpart T is deciding what proportion of your income (${{floatToMoney(income)}})
        to transfer to his/her own account.
      </h3>
    </div>
    <div class="row">
      <h3 class="text-center">What percentage of your income do you expect T will transfer to his/her own account?</h3>
      <p class="text-center">(Use the slider below to set this percentage)</p>
    </div>
    <div class="row text-center">
      <input id="pSlider" style="width:600px;" data-slider-id="pSlider" type="text" data-slider-min="0" data-slider-max="100" data-slider-step="1"
        data-slider-value="0" />
      <p id="pPercentTransferred">Percentage transfered: {{percent}}</p>
    </div>
    <div class="row">
      <h2 id="pMoneyTransferred" class="text-center">Amount (in $) expected to be transferred to T's account: {{transfered}}</h2>
      <h2 id="pFinalEarnings" class="text-center">Your expected avaliable earnings (in $) are: {{totalincome}}</h2>
    </div>
    <div class="row">
      <div class="text-center">
        <button type="button" class="btn btn-success" ng-click="sendEstimate();">
          Send Your Estimate
        </button>
      </div>
    </div>
  </div>

  <!-- bid -->
  <!-- P Willingnesspage-->
  <div class="container" ng-show="showpage.willingnesspage && role === 'P'">
    <div class="row">
      <h3 class="text-center">Your counterpart, T, has transferred {{partner.percentTransferred}}% of your income
        (${{floatToMoney(partner.moneytransferred)}}) to his/her own account.</h3>
      <h3 class="text-center">Your avaliable earnings are now ${{floatToMoney(income - partner.moneytransferred)}}</h3>
    </div>
    <div class="row text-center">
      <h3 class="text-center">What is the maximum amount you would be willing to pay to write and send a message that your
        counterpart T will read?</h3>
      <p class="text-center">(Express the amount in dollars and cents)</p>
      <input ng-model="bid" type="text" />
    </div>
    <div class="row text-center">
      <h3>The actual price of sending a message will be shown on the next screen.</h3>
    </div>
    <div class="row">
      <div class="text-center">
        <button type="button" class="btn btn-success" ng-click="sendWillingness();">
          Send Your Decision
        </button>
      </div>
    </div>
  </div>
  <!-- T Willingnesspage -->
  <div class="container" ng-show="showpage.willingnesspage && role === 'T'">
    <div class="row">
      <h3>Willingness page for T role</h3>
    </div>
  </div>

  <!-- check price -->
  <div class="container" ng-show="showpage.checkprice && role === 'P'">
    <div class="row text-center">
      <h3>The actual price is ${{floatToMoney(actualprice)}}</h3>
      <h3>Your maximum willingness was ${{floatToMoney(bid)}}</h3>
      <h3>Therefore, you will be able to write a message to your counterpart</h3>
    </div>
    <div class="row">
      <div class="text-center">
        <button type="button" class="btn btn-info"
          ng-click="showpage.messagePage = true; showpage.checkprice = false;">
          Continue
        </button>
      </div>
    </div>
  </div>
  <!-- message box -->

  <!-- T message box -->
  <div class="container" ng-show="showpage.messagePage && role === 'T'">
    <div class="row">
      <p class="text-center">Here is it the message from your counterpart :</p>
    </div>
    <div class="row">
        <div class="col-md-8 col-md-offset-2"
          style="border-style:solid;border-width:2px;min-height:300px;">
          <div ng-repeat="message in messages track by $index">
            <p>{{message}}</p>
          </div>
        </div>
    </div>
    <div class="row text-center">
        <button type="button" class="btn btn-info" ng-click="readMessage()">
          I have read the message
        </button>
    </div>
  </div>
  <!-- P message box -->
  <div class="container" ng-show="showpage.messagePage && role === 'P'">
    <div class="row">
      <p class="text-center">
        After writing your message, please press the ENTER key to record the message.
      </p>
    </div>
    <div class="row">
      <p class="text-center">
        Once it is recorded, the message should appear in the upper part of the message box.
        Only then press the SEND button.
      </p>
    </div>
    <div class="row">
        <div class="col-md-8 col-md-offset-2"
          style="border-style:solid;border-width:2px;min-height:300px;">
          <div ng-repeat="message in messages track by $index">
            <p>{{message}}</p>
          </div>
        </div>
    </div>
    <div class="row">
      <div class="col-md-6 col-md-offset-3">
        <input type="text" style="width:585px;" ng-keypress="saveMessage($event)"
          ng-model="message" />
      </div>
    </div>
    <div class="row">
      <div class="text-center">
        <button type="button" class="btn btn-info"
          ng-click="sendMessage()">Continue</button>
      </div>
    </div>
  </div>

  <!-- read message -->
  <div class="container" ng-show="showpage.readMessage && role === 'P'">
    <div class="row">
      <h3 class="text-center">Your Counterpart T has read the message</h3>
    </div>
    <div class="row">
      <div class="text-center">
        <button type="button" class="btn btn-info" ng-click="messageConfirm()">
          Continue
        </button>
      </div>
    </div>
  </div>

  <!-- show earnings -->
  <!-- p show earnings-->
  <div class="container" ng-show="showpage.showEarnings && role === 'P'">
    <h3 class="text-center">
      Earnings <h2 class="text-center">(in $)</h2>
    </h3>
    <table class="table table-striped table-bordered">
      <tr>
        <td></td>
        <td>Role {{partner.role}}</td>
        <td>Role {{role}} (You)</td>
      </tr>
      <tr>
        <td>Endownment</td>
        <td>{{floatToMoney(partner.endownment)}}</td>
        <td>{{floatToMoney(endownment)}}</td>
      </tr>
      <tr>
        <td>Income</td>
        <td>{{floatToMoney(partner.income)}}</td>
        <td>{{floatToMoney(income)}}</td>
      </tr>
      <tr>
        <td>Money<br>Transferred</td>
        <td>+{{floatToMoney(partner.moneytransferred)}}</td>
        <td>-{{floatToMoney(partner.moneytransferred)}}</td>
      </tr>
      <tr>
        <td>Message Price</td>
        <td>----------</td>
        <td>{{partner.actualprice ? floatToMoney(partner.actualprice) : '----------'}}</td>
      </tr>
      <tr>
        <td>Total Earnings</td>
        <td>{{floatToMoney(partner.totalincome)}}</td>
        <td>{{floatToMoney(totalincome)}}</td>
      </tr>
    </table>
    <div class="text-center">
      <button type="button" class="btn btn-info"
        ng-click="sawEarnings()">Continue</button>
    </div>
  </div>
  <!-- T show earnings -->
  <div class="container" ng-show="showpage.showEarnings && role === 'T'">
    <h3 class="text-center">
      Earnings <h2 class="text-center">(in $)</h2>
    </h3>
    <table class="table table-striped table-bordered">
      <tr>
        <td></td>
        <td>Role {{role}} (You)</td>
        <td>Role {{partner.role}}</td>
      </tr>
      <tr>
        <td>Endownment</td>
        <td>{{floatToMoney(endownment)}}</td>
        <td>{{floatToMoney(partner.endownment)}}</td>
      </tr>
      <tr>
        <td>Income</td>
        <td>{{floatToMoney(income)}}</td>
        <td>{{floatToMoney(partner.income)}}</td>
      </tr>
      <tr>
        <td>Money<br>Transferred</td>
        <td>+{{floatToMoney(partner.moneytransferred)}}</td>
        <td>-{{floatToMoney(partner.moneytransferred)}}</td>
      </tr>
      <tr>
        <td>Message Price</td>
        <td>----------</td>
        <td>{{partner.actualprice ? floatToMoney(partner.actualprice) : '----------'}}</td>
      </tr>
      <tr>
        <td>Total Earnings</td>
        <td>{{floatToMoney(totalincome)}}</td>
        <td>{{floatToMoney(partner.totalincome)}}</td>
      </tr>
    </table>
    <div class="text-center">
      <button type="button" class="btn btn-info"
        ng-click="sawEarnings()">Continue</button>
    </div>
  </div>

  <!-- start part 4 -->
  <div class="container" ng-show="showpage.part4">
    <div class="row">
      <h3 class="text-center">Part 4</h3>
      <p class="text-center" ng-show="showpage.part4ready">To start click continue</p>
    </div>
    <div class="row">
      <div class="text-center">
        <button type="button" class="btn btn-info" ng-show="showpage.part4ready"
          ng-click="showpage.finalquestions = 1; showpage.part4 = false;">
          Continue
        </button>
      </div>
    </div>
  </div>
  <!-- final questions -->

  <!-- question 1 -->
  <div class="container" ng-show="showpage.finalquestions === 1">
    <div class="row">
      <div class="col-mid-4 col-mid-offset-4">
        <h3 class="text-center">Right now, how would you describe yourself?</h3>
        <p class="text-center">(Please enter the number that best applies to you at this moment)</p>
        <div class="row" style="border-style:solid;border-width:2px;">
          <div class="col-md-1">
            1:<br>Extremeley<br><strong>unhappy</strong>
          </div>
          <div class="col-md-1">
            2:<br>Very unhappy
          </div>
          <div class="col-md-1">
            3:<br>Unhappy
          </div>
          <div class="col-md-1">
            4:<br>Somewhat happy
          </div>
          <div class="col-md-1">
            5:<br>Neutral
          </div>
          <div class="col-md-1">
            6:<br>Somewhat happy
          </div>
          <div class="col-md-1">
            7:<br>Happy
          </div>
          <div class="col-md-1">
            8:<br>Very happy
          </div>
          <div class="col-md-1">
            9:<br>Extremeley<br><strong>happy</strong>
          </div>
        </div>
        <div class="row text-center">
          <input class="text" ng-model="finalResponses.question1.answer1" />
        </div>
      </div>
      <div class="text-center">
        <button type="button" class="btn btn-info"
          ng-click="nextFinalQuestion(finalResponses.question1,1)">Continue</button>
      </div>
    </div>
  </div>
  <!-- question 2 -->
  <div class="container" ng-show="showpage.finalquestions === 2">
    <div class="row">
      <h3 class="text-center">Please, give the number that best describes the emotons you
        are experiencing at this moment :</h3>
        <p class="text-center">(Follow the scale below)</p>
        <div class="row" style="border-style:solid;border-width:2px;">
          <div class="col-md-1">
            1<br>Emotion is not<br>present at all
          </div>
          <div class="col-md-1">
            2
          </div>
          <div class="col-md-1">
            3
          </div>
          <div class="col-md-1">
            4
          </div>
          <div class="col-md-1">
            5
          </div>
          <div class="col-md-1">
            6
          </div>
          <div class="col-md-1">
            7<br>Emotion feels<br>very intense
          </div>
        </div>
        <br>
        <div class="row">
          <div class="col-md-4 col-md-offset-2">
            Irritation
            <input type="text" ng-model="finalResponses.question2.answer1" />
          </div>
          <div class="col-md-4">
            Sadness
            <input type="text" ng-model="finalResponses.question2.answer2" />
          </div>
        </div>
        <div class="row">
          <div class="col-md-4 col-md-offset-2">
            Anger
            <input type="text" ng-model="finalResponses.question2.answer3" />
          </div>
          <div class="col-md-4">
            Happiness
            <input type="text" ng-model="finalResponses.question2.answer4" />
          </div>
        </div>
        <div class="row">
          <div class="col-md-4 col-md-offset-2">
            Contempt
            <input type="text" ng-model="finalResponses.question2.answer5" />
          </div>
          <div class="col-md-4">
            Fear
            <input type="text" ng-model="finalResponses.question2.answer6" />
          </div>
        </div>
        <div class="row">
          <div class="col-md-4 col-md-offset-2">
            Surprise
            <input type="text" ng-model="finalResponses.question2.answer7" />
          </div>
          <div class="col-md-4">
            Joy
            <input type="text" ng-model="finalResponses.question2.answer8" />
          </div>
        </div>
        <div class="row">
          <div class="col-md-4 col-md-offset-2">
            Envy
            <input type="text" ng-model="finalResponses.question2.answer9" />
          </div>
          <div class="col-md-4">
            Shame
            <input type="text" ng-model="finalResponses.question2.answer10" />
          </div>
        </div>
        <div class="row">
          <div class="col-md-4 col-md-offset-4">
            Jealousy
            <input type="text" ng-model="finalResponses.question2.answer11" />
          </div>
        </div>
        <div class="col-md-2 col-md-offset-5">
          <button type="button" class="btn btn-info"
            ng-click="nextFinalQuestion(finalResponses.question2,11)">Continue</button>
        </div>
    </div>
  </div>
  <!-- question 3 -->
  <div class="container" ng-show="showpage.finalquestions === 3">
    <div class="row">
      <h3 class="text-center">Below you are given pairs of opposite feelings. Use the following scale
        to indicate your current modd relative to these feelings.</h3>
      <p class="text-center">(1: you are experiencing the feeling on the left side very strongly.<br>
        9: you are experiencing the feeling on the right side very strongly.)</p>
    </div>
    <div class="row" style="border-style:solid;border-width:2px;">
      <div class="col-md-1">
        1
      </div>
      <div class="col-md-1">
        2
      </div>
      <div class="col-md-1">
        3
      </div>
      <div class="col-md-1">
        4
      </div>
      <div class="col-md-1">
        5<br>Neutral
      </div>
      <div class="col-md-1">
        6
      </div>
      <div class="col-md-1">
        7
      </div>
      <div class="col-md-1">
        8
      </div>
      <div class="col-md-1">
        9
      </div>
    </div>
      <br>
    <div class="row">
      <div class="row">
        <div class="col-md-1 col-md-offset-4">
          Bad mood
        </div>
        <div class="col-md-2">
          <input type="text" ng-model="finalResponses.question3.answer1" />
        </div>
        <div class="col-md-2">
          Good mood
        </div>
      </div>
      <div class="row">
        <div class="col-md-1 col-md-offset-4">
          Sad
        </div>
        <div class="col-md-2">
          <input type="text" ng-model="finalResponses.question3.answer2" />
        </div>
        <div class="col-md-1">
          Happy
        </div>
      </div>
      <div class="row">
        <div class="col-md-1 col-md-offset-4">
          Depressed
        </div>
        <div class="col-md-2">
          <input type="text" ng-model="finalResponses.question3.answer3" />
        </div>
        <div class="col-md-1">
          Elated
        </div>
      </div>
      <div class="row">
        <div class="col-md-1 col-md-offset-4">
          Gloomy
        </div>
        <div class="col-md-2">
          <input type="text" ng-model="finalResponses.question3.answer4" />
        </div>
        <div class="col-md-1">
          Cheerful
        </div>
      </div>
      <div class="row">
        <div class="col-md-1 col-md-offset-4">
          Displeased
        </div>
        <div class="col-md-2">
          <input type="text" ng-model="finalResponses.question3.answer5" />
        </div>
        <div class="col-md-1">
          Pleased
        </div>
      </div>
      <div class="row">
        <div class="col-md-1 col-md-offset-4">
          Sorrowful
        </div>
        <div class="col-md-2">
          <input type="text" ng-model="finalResponses.question3.answer6" />
        </div>
        <div class="col-md-1">
          Joyful
        </div>
      </div>
      <div class="text-center">
        <button type="button" class="btn btn-info"
          ng-click="nextFinalQuestion(finalResponses.question3,6)">Continue</button>
      </div>
    </div>
  </div>
  <!-- question 4 -->
  <div class="container" ng-show="showpage.finalquestions === 4">
    <div class="row">
      <h3 class="text-center">Below you are given pairs of opposite feelings. Use the following scale
        to indicate your current modd relative to these feelings.</h3>
      <p class="text-center">(1: you are experiencing the feeling on the left side very strongly.<br>
        9: you are experiencing the feeling on the right side very strongly.)</p>
    </div>
    <div class="row" style="border-style:solid;border-width:2px;">
      <div class="col-md-1">
        1
      </div>
      <div class="col-md-1">
        2
      </div>
      <div class="col-md-1">
        3
      </div>
      <div class="col-md-1">
        4
      </div>
      <div class="col-md-1">
        5<br>Neutral
      </div>
      <div class="col-md-1">
        6
      </div>
      <div class="col-md-1">
        7
      </div>
      <div class="col-md-1">
        8
      </div>
      <div class="col-md-1">
        9
      </div>
    </div>
    <div class="row">
      <div class="row">
        <div class="col-md-1 col-md-offset-4">
          Nervous
        </div>
        <div class="col-md-2">
          <input type="text" ng-model="finalResponses.question4.answer1" />
        </div>
        <div class="col-md-1">
          Calm
        </div>
      </div>
      <div class="row">
        <div class="col-md-1 col-md-offset-4">
          Tense
        </div>
        <div class="col-md-2">
          <input type="text" ng-model="finalResponses.question4.answer2" />
        </div>
        <div class="col-md-1">
          Relaxed
        </div>
      </div>
      <div class="row">
        <div class="col-md-1 col-md-offset-4">
          Unconfortable
        </div>
        <div class="col-md-2">
          <input type="text" ng-model="finalResponses.question4.answer3" />
        </div>
        <div class="col-md-1">
          Confortable
        </div>
      </div>
      <div class="row">
        <div class="col-md-1 col-md-offset-4">
          Apathetic
        </div>
        <div class="col-md-2">
          <input type="text" ng-model="finalResponses.question4.answer4" />
        </div>
        <div class="col-md-1">
          Caring
        </div>
      </div>
      <div class="row">
        <div class="col-md-1 col-md-offset-4">
          Lethargic
        </div>
        <div class="col-md-2">
          <input type="text" ng-model="finalResponses.question4.answer5" />
        </div>
        <div class="col-md-1">
          Energetic
        </div>
      </div>
      <div class="row">
        <div class="col-md-1 col-md-offset-4">
          Unconfident
        </div>
        <div class="col-md-2">
          <input type="text" ng-model="finalResponses.question4.answer6" />
        </div>
        <div class="col-md-1">
          Confident
        </div>
      </div>
      <div class="row">
        <div class="col-md-1 col-md-offset-4">
          Unresponsive
        </div>
        <div class="col-md-2">
          <input type="text" ng-model="finalResponses.question4.answer7" />
        </div>
        <div class="col-md-1">
          Emotional
        </div>
      </div>
      <div class="row">
        <div class="col-md-1 col-md-offset-4">
          Unconfident
        </div>
        <div class="col-md-2">
          <input type="text" ng-model="finalResponses.question4.answer8" />
        </div>
        <div class="col-md-1">
          Confident
        </div>
      </div>
      <div class="row">
        <div class="col-md-1 col-md-offset-4">
          Passive
        </div>
        <div class="col-md-2">
          <input type="text" ng-model="finalResponses.question4.answer9" />
        </div>
        <div class="col-md-1">
          Active
        </div>
      </div>
      <div class="text-center">
        <button type="button" class="btn btn-info"
          ng-click="nextFinalQuestion(finalResponses.question4,9)">Continue</button>
      </div>
    </div>
  </div>
  <!-- question 5 -->
  <div class="container" ng-show="showpage.finalquestions === 5">
    <div class="row">
      <h3 class="text-center">Regarding this experiment, how satisfied would you say that you are with it?</h3>
      <p class="text-center">(Check the option that best describes your satisfaction with respect to this experiment)</p>

      <div class="text-center" ng-repeat="checkbox in finalResponses.question5.satisfiedOptions track by $index">
        <input type="checkbox" ng-model="checkbox.selected" ng-change="optionToggled($index)">
        {{checkbox.value}}
      </div>
    </div>
    <div class="row">
      <div class="text-center">
        <button type="button" class="btn btn-info"
          ng-click="nextFinalQuestion(null,0,finalResponses.question5.satisfiedOptions,7)">Continue</button>
      </div>
    </div>
  </div>
  <!-- question 6 -->
  <div class="container" ng-show="showpage.finalquestions === 6">
    <div class="row">
      <h3 class="text-center">What is your best estimate of your total expenditures this school year?</h3>
      <h4 class="text-center">(Please consider all expenses, even if some are convered by financial
        aid or grants, including tuition, housing, food, clothing, transportation,
        entertainment, etc. Indicate in whole dollars)
      </h4>
    </div>
    <div class="row">
      <div class="text-center">
        <input type="text" ng-model="finalResponses.question6.answer1" />
      </div>
    </div>
    <div class="row">
      <h3 class="text-center">What is the total (gross) income last year of your parents or guardians
        (or spouse, if married)?
      </h3>
      <h4 class="text-center">(Exclude your own earnings)</h4>
    </div>
    <div class="row">
      <div class="text-center" ng-repeat="checkbox in finalResponses.question6.moneyOptions track by $index">
        <input type="checkbox" ng-model="checkbox.selected" ng-change="moneyToggled($index)">
        {{checkbox.value}}
      </div>
    </div>
    <div class="row">
      <div class="text-center">
        <button type="button" class="btn btn-info"
          ng-click="finishFinalQuestions(finalResponses.question6,1,finalResponses.question6.moneyOptions,7)">Continue</button>
      </div>
    </div>
    </div>
  </div>

  <!-- thanks -->
  <div class="container" ng-show="showpage.thanks">
    <div class="row">
      <h2 class="text-center">Thank you for participating in this experiment.</h2>
      <h3 class="text-center">Please remain seated until the experimenter attends to you.</h3>
    </div>
  </div>
</body>
{% endverbatim %}
</html>
